--- 
layout: post
title: c/c++ 变量种类，作用域和生命周期
subtitle: 关键字 
date: 2017-03-06
author: BY HUHUI
header-img: img/post-bg-2015.jpg 
catalog: true 
tags: 
     - c/c++
---



## 普通局部变量

属于某个{}，在{}外部不能使用此变量，在{}内部是可以使用的。执行到普通局部变量定义语句，才会分配空间，离开
{}，自动释放。普通局部变量不初始化，默认值是随机数。

## 全局变量定义的位置限制

在C语言中，全局变量定义的位置是有限制的，在默认情况下，一个函数不可以访问在它后面定义的全局变量

解决办法：

  <1>将变量定义在函数的前面

  <2>在函数前面对变量进行声明（全局变量声明在前面加上extern，例如：extern int a 。后面还需要继续定义）



## static局部变量
属于某个{}，在{}外部不能使用该变量，在{}内部是可以使用的，在编译器编译的时候就已经分配空间
，初始化只能常量。static局部变量不初始化默认值是0。static局部变量的生命周期从编译时到程序结束。
只有程序结束，才会释放空间。

注意：静态变量的作用域属于本{}内，但是他的生命周期却是从编译开始到程序结束结束。


## 普通全局变量
在编译阶段分配空间，只有整个程序结束才释放。普通全局变量只要定义了，任何地方都可以使用，
在其他文件中使用时需要先声明，只能定义一次普通局部变量，但是可以声明多次（外部链接）。

## static全局变量
在编译阶段分配空间，只有在整个程序结束时才释放空间。static全局变量只能在定义所在本文件中使用此变量（称为内部链接）
。

## static和extern的总结

(1)extern可以用来声明一个全局变量，但是不能用来定义变量

(2)默认情况下，一个全局变量是可以供多个源文件共享的，也就说，
多个源文件中同名的全局变量都代表着同一个变量

(3)如果在定义全局变量的时候加上static关键字，此时static的作用在于限制该全局变量的作用域，
只能在定义该全局变量的文件中才能使用，跟其他源文件中的同名变量互不干扰。
